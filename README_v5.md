# 🌿 Argan Package Smart Script Generator v5.0

نظام إدارة محتوى ذكي لتوليد السيناريوهات التسويقية باستخدام الذكاء الاصطناعي

---

## 📋 نظرة عامة

**Argan Smart Generator** هو نظام متكامل لإدارة المحتوى التسويقي تم تطويره خصيصاً لشركة Argan Package. يستخدم النظام تقنيات الذكاء الاصطناعي (OpenAI GPT-4) لتوليد سيناريوهات تسويقية احترافية باللهجة السعودية مع دعم كامل لاشتراطات هيئة الغذاء والدواء السعودية (SFDA).

---

## ✨ الميزات الرئيسية

### 🎯 للمستخدمين
- ✅ **توليد سيناريوهات ذكية**: إنشاء محتوى تسويقي احترافي بالذكاء الاصطناعي
- ✅ **خيارات متعددة**: اختيار المنتج، المنصة، السيناريو، النبرة، وأكثر
- ✅ **دعم SFDA**: التزام تلقائي باشتراطات هيئة الغذاء والدواء
- ✅ **إدارة السيناريوهات**: حفظ، تصنيف، وحذف السيناريوهات
- ✅ **ربط بالحملات**: تصنيف السيناريوهات حسب الحملات الإعلانية
- ✅ **استقبال التوجيهات**: رسائل مباشرة من الإدارة

### 🧭 للإداريين
- ✅ **لوحة تحكم شاملة**: إحصائيات ومتابعة نشاط المستخدمين
- ✅ **إدارة الحملات**: إنشاء وإدارة الحملات الإعلانية
- ✅ **تخطيط احترافي**: تخطيط حملات تسويقية متكاملة
- ✅ **تعيين المهام**: توزيع المهام على الموظفين
- ✅ **إرسال التوجيهات**: تواصل مباشر مع الموظفين
- ✅ **تتبع الأداء**: مراقبة الإنتاجية والتقدم

---

## 🎨 التحسينات في النسخة 5.0

### 🔧 إصلاحات ضرورية
- ✅ معالجة شاملة للأخطاء والاستثناءات
- ✅ حماية من الأخطاء عند فقدان الملفات
- ✅ تحسينات أمنية (دوال تشفير كلمات المرور)
- ✅ إصلاح مشاكل الفهرسة والتحديث
- ✅ معالجة أفضل لملفات JSON

### 🎨 تحسينات الواجهة
- ✨ تصميم احترافي بالكامل مع CSS مخصص
- ✨ ألوان متدرجة وظلال جميلة
- ✨ خطوط عربية احترافية (Cairo)
- ✨ تأثيرات تفاعلية على الأزرار
- ✨ بطاقات ملونة ومنظمة
- ✨ أيقونات تعبيرية في كل مكان
- ✨ إحصائيات تفاعلية (Metrics)
- ✨ رسائل واضحة وملونة

---

## 🚀 التثبيت والتشغيل

### المتطلبات
```bash
Python 3.8+
streamlit
openai
pandas
```

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone https://github.com/Qsweet/argan-smart-generator.git
cd argan-smart-generator
```

2. **تثبيت المكتبات**
```bash
pip install -r requirements.txt
```

3. **إعداد ملف الأسرار**
أنشئ ملف `.streamlit/secrets.toml`:
```toml
OPENAI_API_KEY = "your-api-key-here"
```

4. **تشغيل التطبيق**
```bash
streamlit run app.py
```

---

## 📁 هيكل المشروع

```
argan-smart-generator/
├── app.py                    # الملف الرئيسي (النسخة الأصلية)
├── app_improved.py           # النسخة المحسّنة v5.0
├── users.json                # بيانات المستخدمين
├── options.json              # خيارات السيناريوهات
├── campaigns.json            # قائمة الحملات
├── user_logs.json            # سجل نشاط المستخدمين
├── campaign_plans.json       # خطط الحملات التفصيلية
├── requirements.txt          # المكتبات المطلوبة
├── secrets.toml              # مفتاح OpenAI
├── CHANGELOG.md              # سجل التغييرات
└── README_v5.md              # هذا الملف
```

---

## 🔐 نظام المستخدمين

### أنواع الحسابات

#### 1. Admin (مدير)
- الوصول الكامل لجميع الميزات
- إدارة المستخدمين والحملات
- تخطيط الحملات التسويقية
- إرسال التوجيهات
- مراقبة الإحصائيات

#### 2. User (موظف)
- توليد السيناريوهات
- إدارة السيناريوهات الخاصة
- استقبال التوجيهات
- تصنيف السيناريوهات

### إضافة مستخدم جديد

عدّل ملف `users.json`:
```json
{
  "username": {
    "password": "password123",
    "role": "user"
  }
}
```

---

## 📊 استخدام النظام

### 1. تسجيل الدخول
- أدخل اسم المستخدم وكلمة المرور
- سيتم توجيهك للصفحة الرئيسية

### 2. توليد سيناريو
1. اختر "إنتاج السيناريوهات التسويقية"
2. املأ الحقول المطلوبة:
   - العرض
   - المنتج
   - المنصة
   - السيناريو
   - التوصيل
   - الهدية
   - الكاش باك
   - نبرة النص
3. اختر التزام SFDA (اختياري)
4. أضف تعليمات إضافية (اختياري)
5. اضغط "توليد السيناريو الآن"
6. احفظ السيناريو أو انسخه

### 3. إدارة السيناريوهات
1. اذهب إلى "حسابي"
2. شاهد جميع سيناريوهاتك
3. صنّف السيناريوهات حسب الحملة
4. احذف السيناريوهات غير المرغوبة

### 4. تخطيط حملة (للأدمن)
1. اختر "تخطيط حملة جديدة"
2. أنشئ حملة جديدة:
   - اسم الحملة
   - تاريخ البداية والنهاية
3. أضف منتجات للحملة:
   - اسم المنتج
   - الأسعار
   - كود الخصم
   - أنواع الفيديوهات
   - الموظف المسؤول
4. أرسل تنبيهات للموظفين

---

## 🎯 خيارات السيناريوهات

يمكن تخصيص الخيارات في ملف `options.json`:

```json
{
  "offer": ["خصم 50%", "اشتر واحد واحصل على الثاني", "شحن مجاني"],
  "product": ["زيت الأرغان", "شامبو الأرغان", "كريم الأرغان"],
  "platform": ["تيك توك", "انستغرام", "سناب شات", "تويتر"],
  "scenario": ["توعوي", "ترفيهي", "تعليمي", "UGC"],
  "shipping": ["مجاني", "مدفوع", "مجاني فوق 200 ريال"],
  "gift": ["لا يوجد", "عينة مجانية", "منتج إضافي"],
  "cashback": ["لا يوجد", "5%", "10%", "15%"],
  "tone": ["رسمي", "ودي", "حماسي", "هادئ"]
}
```

---

## 🔒 الأمان

### الإصدار الحالي
- كلمات المرور مخزنة بشكل نصي
- مناسب للاستخدام الداخلي

### التحسينات المستقبلية
- تشفير كلمات المرور (الدوال جاهزة)
- نظام صلاحيات متقدم
- سجل تدقيق (Audit Log)
- مصادقة ثنائية (2FA)

### تفعيل تشفير كلمات المرور

1. **تشفير كلمات المرور الحالية**:
```python
import hashlib

def hash_password(password):
    return hashlib.sha256(password.encode()).hexdigest()

# مثال
print(hash_password("password123"))
```

2. **تحديث users.json** بكلمات المرور المشفرة

3. **تعديل السطر في login_screen()**:
```python
# من:
elif username in USERS and USERS[username]["password"] == password:

# إلى:
elif username in USERS and verify_password(password, USERS[username]["password"]):
```

---

## 📈 الإحصائيات والتقارير

### للمستخدمين
- عدد السيناريوهات المُنتجة
- الحملات المشاركة
- آخر نشاط

### للإداريين
- إجمالي المستخدمين
- إجمالي السيناريوهات
- الحملات النشطة
- سيناريوهات اليوم
- نشاط كل مستخدم

---

## 🛠️ استكشاف الأخطاء

### مشكلة: لا يعمل OpenAI
**الحل**: تأكد من:
- وجود مفتاح API صحيح في `secrets.toml`
- اتصال الإنترنت
- رصيد كافٍ في حساب OpenAI

### مشكلة: خطأ في قراءة الملفات
**الحل**: 
- تأكد من وجود جميع ملفات JSON
- تحقق من صحة تنسيق JSON
- النسخة 5.0 تنشئ الملفات تلقائياً

### مشكلة: لا تظهر التحسينات
**الحل**:
- تأكد من استخدام `app_improved.py`
- امسح الكاش: `streamlit cache clear`
- أعد تشغيل التطبيق

---

## 🚀 الترقية من v4.2 إلى v5.0

### خطوات الترقية

1. **نسخ احتياطي**
```bash
cp app.py app_v4.2_backup.py
```

2. **استبدال الملف**
```bash
cp app_improved.py app.py
```

3. **إعادة التشغيل**
```bash
streamlit run app.py
```

### التوافق
✅ النسخة 5.0 متوافقة 100% مع بيانات النسخة 4.2  
✅ لا حاجة لتعديل ملفات JSON  
✅ جميع الميزات السابقة موجودة ومحسّنة  

---

## 📝 التطوير المستقبلي

### الميزات المخططة
- [ ] تصدير التقارير (PDF/Excel)
- [ ] رسوم بيانية للإحصائيات
- [ ] نظام إشعارات Push
- [ ] واجهة API منفصلة
- [ ] نسخ احتياطي تلقائي
- [ ] تطبيق موبايل
- [ ] دعم لغات إضافية
- [ ] تكامل مع منصات التواصل

### التحسينات المطلوبة
- [ ] تفعيل تشفير كلمات المرور
- [ ] نظام صلاحيات متقدم
- [ ] سجل تدقيق شامل
- [ ] اختبارات تلقائية (Unit Tests)
- [ ] توثيق API
- [ ] دليل مستخدم مفصل

---

## 🤝 المساهمة

نرحب بالمساهمات! إذا كنت تريد المساهمة:

1. Fork المشروع
2. أنشئ فرع للميزة (`git checkout -b feature/AmazingFeature`)
3. Commit التغييرات (`git commit -m 'Add some AmazingFeature'`)
4. Push للفرع (`git push origin feature/AmazingFeature`)
5. افتح Pull Request

---

## 📄 الترخيص

هذا المشروع ملك لشركة Argan Package.  
جميع الحقوق محفوظة © 2025

---

## 👨‍💻 المطور

**د. محمد القضاه**

- النسخة الأصلية: v4.2
- النسخة المحسّنة: v5.0
- تاريخ آخر تحديث: 2025-10-15

---

## 📞 الدعم

للدعم الفني أو الاستفسارات:
- افتح Issue على GitHub
- تواصل مع فريق التطوير

---

## 🙏 شكر وتقدير

شكراً لاستخدامك Argan Smart Generator!  
نأمل أن يساعدك النظام في تحسين إنتاجيتك وجودة المحتوى التسويقي.

---

**🌿 Argan Package - نظام إدارة المحتوى الذكي**

